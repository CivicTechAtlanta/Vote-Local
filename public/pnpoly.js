

pnpoly = function (point, vs) {
    // ray-casting algorithm based on
    // http://www.ecse.rpi.edu/Homepages/wrf/Research/Short_Notes/pnpoly.html
    
    var x = point[0], y = point[1];
    
    var inside = false;
    for (var i = 0, j = vs.length - 1; i < vs.length; j = i++) {
        var xi = vs[i][0], yi = vs[i][1];
        var xj = vs[j][0], yj = vs[j][1];
        
        var intersect = ((yi > y) != (yj > y))
            && (x < (xj - xi) * (y - yi) / (yj - yi) + xi);
        if (intersect) inside = !inside;
    }
    
    return inside;
};



var poly = [ [ -84.368600055746725, 33.782122943391279 ], [ -84.367846985864574, 33.781153701630657 ], [ -84.366495624737311, 33.779412482965846 ], [ -84.365793150508424, 33.778065263164258 ], [ -84.365149849085668, 33.775610059090475 ], [ -84.364580356994608, 33.773360745160979 ], [ -84.364844380261019, 33.773331121405285 ], [ -84.364983402680963, 33.773324027482538 ], [ -84.365152074374919, 33.77333062693576 ], [ -84.365580785668016, 33.773363946211795 ], [ -84.365795553189514, 33.77338077639164 ], [ -84.366855363565108, 33.773446737329557 ], [ -84.367076706033657, 33.773460462840923 ], [ -84.367521860116682, 33.773488252184052 ], [ -84.367657660691265, 33.773510704097312 ], [ -84.368412382500281, 33.773634861224878 ], [ -84.369315252663498, 33.773783161207042 ], [ -84.369558102776026, 33.773845971773817 ], [ -84.369759688515117, 33.773854228463371 ], [ -84.369876526394606, 33.773859189092292 ], [ -84.370089609924335, 33.773858838054245 ], [ -84.370111000548732, 33.773858802794585 ], [ -84.370221192539518, 33.773836635162716 ], [ -84.37038812422368, 33.773802693756764 ], [ -84.370905300225473, 33.77367026688453 ], [ -84.371158542842338, 33.773605263848836 ], [ -84.371661721343528, 33.773469078166734 ], [ -84.372406620134143, 33.773267560491988 ], [ -84.372802060888702, 33.773148726230787 ], [ -84.373373434708796, 33.772977379561496 ], [ -84.373461400884224, 33.772950780367275 ], [ -84.37418645074537, 33.772709779225849 ], [ -84.374760240467495, 33.772519184377529 ], [ -84.375069329867969, 33.772416634341042 ], [ -84.375241182244096, 33.77237821216977 ], [ -84.375353831604627, 33.77235294403097 ], [ -84.375681165089745, 33.772310479412937 ], [ -84.375848173439181, 33.772310196462456 ], [ -84.375875330929048, 33.772313585732945 ], [ -84.376066257790072, 33.772337996120704 ], [ -84.376568340242969, 33.772433331707141 ], [ -84.376795512598932, 33.772476573480553 ], [ -84.377323876087459, 33.772552623544478 ], [ -84.377718801539288, 33.772563285325091 ], [ -84.377766584924387, 33.771248513165041 ], [ -84.379164391930459, 33.771268443877112 ], [ -84.380380348063113, 33.771273901980763 ], [ -84.38048812230042, 33.771274402372136 ], [ -84.381889186592716, 33.77128055536636 ], [ -84.383058248665051, 33.771285725321633 ], [ -84.383251583652267, 33.771286416786623 ], [ -84.383449026905168, 33.771285039551081 ], [ -84.383773191422037, 33.771294088588753 ], [ -84.384799045375686, 33.771275790298795 ], [ -84.384991569846463, 33.771281289894347 ], [ -84.38575755450313, 33.771303292574409 ], [ -84.385846447999029, 33.77131996772372 ], [ -84.386766173705254, 33.771301497979771 ], [ -84.387295164001443, 33.7713005534739 ], [ -84.387413575997158, 33.771278699334687 ], [ -84.387677534474165, 33.771229445644188 ], [ -84.388845828169039, 33.771255861028472 ], [ -84.389447252207077, 33.771269205152571 ], [ -84.390079941333227, 33.771283520344163 ], [ -84.390454288787282, 33.771291773920417 ], [ -84.390688770831389, 33.771297188541972 ], [ -84.390845914601613, 33.771300682038252 ], [ -84.391020267737517, 33.77127837928623 ], [ -84.39105734881079, 33.771301328398422 ], [ -84.392065948736303, 33.771292276392906 ], [ -84.392732319086861, 33.77128762230889 ], [ -84.393742667285608, 33.771317715840603 ], [ -84.394523415334731, 33.77132177337694 ], [ -84.394639422008339, 33.771324307392455 ], [ -84.39489527883407, 33.771323834524168 ], [ -84.395090281153102, 33.771332749084181 ], [ -84.395516421291163, 33.771326806699108 ], [ -84.395664486431656, 33.77131931792772 ], [ -84.395996881825639, 33.771329350174078 ], [ -84.396163085502963, 33.771336598896418 ], [ -84.396717663551797, 33.771367171195465 ], [ -84.396831193080033, 33.771366272466267 ], [ -84.398051269683236, 33.771373609960136 ], [ -84.398092399617298, 33.771371815192779 ], [ -84.398357241397889, 33.771347271189128 ], [ -84.398636882195831, 33.771319263501702 ], [ -84.398711721100312, 33.771309503973242 ], [ -84.398923851013592, 33.771263071919392 ], [ -84.399009342150237, 33.771237489777654 ], [ -84.399209034868022, 33.771155353511858 ], [ -84.399483455237061, 33.771022577048775 ], [ -84.399596729561424, 33.770927548996681 ], [ -84.399894170763716, 33.770789918747198 ], [ -84.40004124796603, 33.770721965286228 ], [ -84.400438022678784, 33.770809845170646 ], [ -84.401154876279534, 33.771215164780706 ], [ -84.402232845760039, 33.771565836944667 ], [ -84.403331408485826, 33.771722461469707 ], [ -84.404271298891871, 33.771773564312866 ], [ -84.405063633897356, 33.771921944445637 ], [ -84.405909232112933, 33.772237760550105 ], [ -84.406914107937823, 33.77287071321053 ], [ -84.408103551544855, 33.774224891141891 ], [ -84.408275587159423, 33.774548846671429 ], [ -84.408424291567343, 33.774767383982613 ], [ -84.408493602199613, 33.775072157938666 ], [ -84.409013293877933, 33.775882405169973 ], [ -84.40956437531311, 33.776586770935616 ], [ -84.412741029979202, 33.77965799849796 ], [ -84.418021276743033, 33.784582086147239 ], [ -84.41866518504645, 33.785020833739352 ], [ -84.418995889603409, 33.785277117749445 ], [ -84.41769031347026, 33.785006973325217 ], [ -84.41702831230721, 33.784899534015274 ], [ -84.416072083680703, 33.785004529205594 ], [ -84.415263489899559, 33.785183650975917 ], [ -84.41410932912099, 33.785609656830005 ], [ -84.412006461296556, 33.786383933754365 ], [ -84.411424125689621, 33.786562580304093 ], [ -84.410413932256304, 33.786991128678366 ], [ -84.409670999303557, 33.787364750613001 ], [ -84.409140443064885, 33.787672107826332 ], [ -84.407918618875954, 33.788444580560792 ], [ -84.407661661668897, 33.788594325952154 ], [ -84.407843596302541, 33.789791749762301 ], [ -84.407840594748706, 33.789895157864876 ], [ -84.407852174755575, 33.790796898839055 ], [ -84.407854338740037, 33.790981713191499 ], [ -84.407857202316336, 33.791122554465247 ], [ -84.407864923024022, 33.791528247050032 ], [ -84.407874550666023, 33.792027032212161 ], [ -84.407872974089685, 33.79234514304769 ], [ -84.407868692472277, 33.793165841863782 ], [ -84.407865377430895, 33.79374435087864 ], [ -84.407866004611321, 33.793967986900327 ], [ -84.407867987861209, 33.795848802873799 ], [ -84.407865526688298, 33.796144929406921 ], [ -84.40785632947312, 33.797266911924936 ], [ -84.407851415688171, 33.79786225658119 ], [ -84.4078240587137, 33.798377946429895 ], [ -84.407859147695532, 33.798565100890762 ], [ -84.407839652904244, 33.799243264295626 ], [ -84.407835107877688, 33.800263552737569 ], [ -84.407830600397489, 33.801297238544514 ], [ -84.407829046829363, 33.801623593538146 ], [ -84.407825965697199, 33.802285578687716 ], [ -84.407824931583576, 33.802503721194626 ], [ -84.407824534489961, 33.802655561485288 ], [ -84.407824213518708, 33.802834540359086 ], [ -84.407823622747685, 33.802917331833434 ], [ -84.407822462402336, 33.803090472359649 ], [ -84.407221017528272, 33.802855986211888 ], [ -84.406781906307742, 33.802693322203339 ], [ -84.405660885688206, 33.802360558932278 ], [ -84.404753356599301, 33.802146577939936 ], [ -84.404461827990033, 33.802077747496512 ], [ -84.398847096557844, 33.808670100127983 ], [ -84.398564041264947, 33.809002824207134 ], [ -84.398257074487944, 33.809320477286086 ], [ -84.397927838537981, 33.809621681997839 ], [ -84.397577977641419, 33.809905748032612 ], [ -84.397208310256204, 33.810170956047621 ], [ -84.396820481649527, 33.810416959269254 ], [ -84.396415311317213, 33.810642381890013 ], [ -84.39599526770165, 33.810846875623675 ], [ -84.395561171327728, 33.811029408213422 ], [ -84.395114665841959, 33.811188945884297 ], [ -84.394657397678955, 33.811325485459498 ], [ -84.394191835467453, 33.811438678738625 ], [ -84.393718799905869, 33.811527493533724 ], [ -84.393239936619182, 33.811591583208291 ], [ -84.392757716140068, 33.81163128669391 ], [ -84.392272137070449, 33.811645916897412 ], [ -84.392241205473695, 33.811777544672886 ], [ -84.392225048638764, 33.811893686663936 ], [ -84.392230411754582, 33.812055478514544 ], [ -84.392256505232695, 33.812275632195181 ], [ -84.392267321631266, 33.812319927513975 ], [ -84.392318648620744, 33.812432510782195 ], [ -84.392392310023311, 33.812587307088457 ], [ -84.392435414592327, 33.812702997100395 ], [ -84.392450353793933, 33.812750033076568 ], [ -84.392466207256859, 33.812831763693495 ], [ -84.39247392914649, 33.812951297260668 ], [ -84.392472405718593, 33.812998019841018 ], [ -84.392467648595456, 33.813067077652541 ], [ -84.392462909515871, 33.813143005987484 ], [ -84.392449972903549, 33.813231659858104 ], [ -84.39242876743684, 33.813305900691027 ], [ -84.39226776616411, 33.813743506222913 ], [ -84.392212194978399, 33.813895790682061 ], [ -84.391810300080493, 33.814753970337279 ], [ -84.39173172270354, 33.814922442356078 ], [ -84.391694853752227, 33.81498777990317 ], [ -84.391616938984711, 33.81509510269219 ], [ -84.391464338410657, 33.815285695290321 ], [ -84.39142248820059, 33.815334896026968 ], [ -84.391383906138401, 33.815374815545539 ], [ -84.391193416165564, 33.81555585805058 ], [ -84.39111867607653, 33.815618516131956 ], [ -84.390966682287655, 33.815727003869604 ], [ -84.390316118309059, 33.816244507404555 ], [ -84.390022329488218, 33.816586849843965 ], [ -84.389749904861517, 33.816915755350649 ], [ -84.389444654466089, 33.81728388169207 ], [ -84.389408548910055, 33.817327231387594 ], [ -84.389195350576088, 33.817642631088184 ], [ -84.388634372842361, 33.817479779248082 ], [ -84.38839736875066, 33.817183741168257 ], [ -84.388514246196451, 33.816861989081353 ], [ -84.388809229105121, 33.816342044252728 ], [ -84.389696468292797, 33.815672968704789 ], [ -84.390286616591936, 33.8150295032451 ], [ -84.390286101702813, 33.814831632172108 ], [ -84.390107603127731, 33.81455988163902 ], [ -84.389574349568306, 33.814289115987187 ], [ -84.388921749035575, 33.814018219592882 ], [ -84.388329174888383, 33.81372247785901 ], [ -84.387942565449521, 33.813179367374644 ], [ -84.387852462977335, 33.812709926312522 ], [ -84.387259014958701, 33.81238944690044 ], [ -84.386607195662222, 33.812415344897339 ], [ -84.38634216127943, 33.812737359362671 ], [ -84.385631579980881, 33.812960885416651 ], [ -84.384832359931337, 33.812962301609552 ], [ -84.384210792806769, 33.81323547355953 ], [ -84.383305182072917, 33.813480628765767 ], [ -84.38296971045213, 33.813620689858467 ], [ -84.382552572302629, 33.813362057072254 ], [ -84.382197367163826, 33.813510738804354 ], [ -84.381191524470509, 33.813834034443339 ], [ -84.380984165397251, 33.813859128925841 ], [ -84.379829516668678, 33.814256873958712 ], [ -84.377551827674182, 33.815199994542454 ], [ -84.376456468751343, 33.815621997077393 ], [ -84.375331810198119, 33.815846510929561 ], [ -84.374651211474358, 33.815897128484742 ], [ -84.374188336074468, 33.815780765136935 ], [ -84.376300149105148, 33.812615019134043 ], [ -84.376880567949684, 33.811662802117411 ], [ -84.377104927138518, 33.81118697666448 ], [ -84.377355161431851, 33.810523196684883 ], [ -84.377564844462654, 33.809770855201151 ], [ -84.377669308931488, 33.809074001348975 ], [ -84.377668630093339, 33.808797462282477 ], [ -84.377627794112215, 33.808255788067498 ], [ -84.377546711460298, 33.807747504845146 ], [ -84.377373367312515, 33.807205713377037 ], [ -84.37709361150381, 33.806564823481573 ], [ -84.376826947630235, 33.805890931845511 ], [ -84.376400473702247, 33.804818818343968 ], [ -84.376027895611244, 33.804244728060191 ], [ -84.372815256505447, 33.798605380552821 ], [ -84.371193450294868, 33.795765377850699 ], [ -84.370790459761821, 33.795001693116603 ], [ -84.370490360668995, 33.794246425249796 ], [ -84.370293292552546, 33.793559692381884 ], [ -84.370189108488447, 33.793001629381486 ], [ -84.370136153507033, 33.792357599463742 ], [ -84.370185267711619, 33.791378460100347 ], [ -84.370538887816082, 33.788681170921812 ], [ -84.370771058137308, 33.786825727938329 ], [ -84.370737756968794, 33.785795194355742 ], [ -84.37058186814771, 33.7851169811033 ], [ -84.370250909556788, 33.784344585877733 ], [ -84.369899914155297, 33.783795516966975 ], [ -84.368600055746725, 33.782122943391279 ] ]

// Point is in NPU E
var test = pnpoly([-84.3767517, 33.7737441], poly);

debug("Point in poly? " + test);